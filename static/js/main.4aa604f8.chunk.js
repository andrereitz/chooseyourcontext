(this.webpackJsonpchooseyourcontext=this.webpackJsonpchooseyourcontext||[]).push([[0],[,,,,function(e,t,o){e.exports={Contents:"Contents_Contents__3PkBO",Column:"Contents_Column__2Uasq",CodeSection:"Contents_CodeSection__3ZSsd"}},,,,,function(e,t,o){e.exports={Default:"ListItem_Default__3jHXg",Completed:"ListItem_Completed__lz83p"}},function(e,t,o){e.exports={Default:"Loader_Default__QqbKV",rotate:"Loader_rotate__2h7XT",Container:"Loader_Container__lxURq"}},,,,function(e,t,o){e.exports={Default:"Header_Default__2sSrb"}},function(e,t,o){e.exports={Default:"Intro_Default__gYnzG"}},function(e,t,o){e.exports={AddButton:"AddButton_AddButton__29Y8_"}},,,,,,,function(e,t,o){},function(e,t,o){},,function(e,t,o){"use strict";o.r(t);var c=o(1),n=o.n(c),a=o(11),s=o.n(a),i=(o(23),o(24),o(5)),r=o(2),d=o(12),l=o(13),j=o(18),u=o(17),h=o(0),b=n.a.createContext(),O=function(e){Object(j.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(d.a)(this,o);for(var c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={todos:[],loading:!0},e.addTodo=function(t){e.setState((function(o){return Object(r.a)(Object(r.a)({},o),{},{todos:[].concat(Object(i.a)(e.state.todos),[t])})}))},e.toggleComplete=function(t,o){e.setState((function(c){return Object(r.a)(Object(r.a)({},c),{},{todos:Object(i.a)(e.state.todos.map((function(e){return e.id===t&&(e.completed=o),e})))})}))},e.setTodos=function(t){e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{todos:t,loading:!1})}))},e.setLoading=function(t){e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{loading:t})}))},e}return Object(l.a)(o,[{key:"render",value:function(){var e=this.props.children,t=this.addTodo,o=this.toggleComplete,c=this.setTodos,n=this.setLoading;return Object(h.jsx)(b.Provider,{value:{state:this.state,addTodo:t,toggleComplete:o,setTodos:c,setLoading:n},children:e})}}]),o}(c.Component),f=b,x=o(3),p=c.createContext();function m(e){var t=c.useState({todos:[],loading:!0}),o=Object(x.a)(t,2),n=o[0],a=o[1],s=c.useMemo((function(){return[n,a]}),[n]);return Object(h.jsx)(p.Provider,Object(r.a)({value:s},e))}var g=n.a.createContext(),v={todos:[],loading:!0},C="ADD_TODO",y="TOGGLE_COMPLETE",T="SET_TODOS",_="SET_LOADING",S={addTodo:function(e){return{type:"ADD_TODO",payload:e}},toggleComplete:function(e){return{type:"TOGGLE_COMPLETE",payload:e}},setTodos:function(e){return{type:"SET_TODOS",payload:e}},setLoading:function(e){return{type:"SET_LOADING",payload:e}}};function k(e,t){switch(t.type){case C:return Object(r.a)(Object(r.a)({},e),{},{todos:[].concat(Object(i.a)(e.todos),[t.payload])});case y:return Object(r.a)(Object(r.a)({},e),{},{todos:Object(i.a)(e.todos.map((function(e){return e.id===t.payload.id&&(e.completed=t.payload.completed),e})))});case T:return Object(r.a)(Object(r.a)({},e),{},{todos:t.payload,loading:!1});case _:return Object(r.a)(Object(r.a)({},e),{},{loading:t.payload});default:return e}}function A(e){var t=e.children,o=Object(c.useReducer)(k,v),n=Object(x.a)(o,2),a=n[0],s=n[1];return Object(h.jsxs)(g.Provider,{value:{state:a,dispatch:s,actions:S},children:[" ",t," "]})}var N=o.p+"static/media/logo.9b36e14a.svg",D=o(14),E=o.n(D);function w(){return Object(h.jsx)("header",{className:E.a.Default,children:Object(h.jsx)("img",{src:N,alt:"App logo"})})}var L=o(15),P=o.n(L);function R(){return Object(h.jsxs)("div",{className:"container app-box ".concat(P.a.Default),children:[Object(h.jsxs)("div",{className:"column",children:[Object(h.jsx)("h2",{children:"Welcome"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#class-style",children:"Class Style"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#redux-style",children:"Redux Style"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#hooks-style",children:"Hooks Style"})})]})]}),Object(h.jsxs)("div",{className:"column",children:[Object(h.jsx)("p",{children:"The React Context API is extremely useful and flexible."}),Object(h.jsx)("p",{children:"This flexibility sometimes comes with doubts on architecture and implementation strategies."}),Object(h.jsx)("p",{children:"This website suggests three strategies for Context API implementation that can be combined or modified according to the user preference."})]})]})}var I=o(4),G=o.n(I);function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(c.useState)(),o=Object(x.a)(t,2),n=o[0],a=o[1];Object(c.useEffect)((function(){s()}),[e]);var s=function(){return a(e[Math.floor(Math.random()*e.length)])};return[n,s]}function B(e){var t=Object(c.useState)([]),o=Object(x.a)(t,2),n=o[0],a=o[1];return Object(c.useEffect)((function(){a(e.slice(0,5))}),[e]),n}function F(){var e=Object(c.useContext)(f),t=e.state,o=t.todos,n=t.loading,a=Object(c.useState)([]),s=Object(x.a)(a,2),i=s[0],r=s[1],d=H(i),l=Object(x.a)(d,2),j=l[0],u=l[1],b=B(i);function O(t,o){e.toggleComplete(t,o)}return Object(c.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/todos").then((function(e){return e.json()})).then((function(e){r(e)}))}),[]),Object(c.useEffect)((function(){e.setTodos(b)}),[b]),n?Object(h.jsx)("div",{className:"container app-box ".concat(G.a.Contents),children:Object(h.jsx)(W,{})}):Object(h.jsxs)("div",{className:"container app-box ".concat(G.a.Contents),children:[Object(h.jsxs)("div",{className:"".concat(G.a.Column),children:[Object(h.jsx)("h2",{id:"class-style",children:"The \u201cClass Style\u201d strategy"}),Object(h.jsx)("h3",{children:"Context API Exporting Provider Class"}),Object(h.jsx)("p",{children:"State of the context is the state of the class used to export the Provider."}),Object(h.jsx)("p",{children:"The advantage of this approach is its easier to understand for people who are not used to Redux or complex Hooks. The provider and provider value is also exported from the same place."}),Object(h.jsx)("p",{children:"All data and methods related to this context are defined in the same file, a provider is exported as a class and used under the app with useContext Hook."})]}),Object(h.jsxs)("div",{className:"".concat(G.a.Column," ").concat(G.a.CodeSection),children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"State Implementation example:"}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"fas fa-code-branch"})," ",Object(h.jsx)("a",{href:"https://github.com/andrereitz/chooseyourcontext/blob/master/src/contexts/ClassContext.js",target:"_blank",children:"Check out on Github"})]})]}),Object(h.jsx)("ul",{children:o.length>0&&o.map((function(e,t){return Object(h.jsx)(U,{todo:e,clickAction:O},"cc-todo-".concat(t))}))}),Object(h.jsx)(K,{clickAction:function(){e.addTodo(j),u()},children:"Add Random Todo"})]})]})}function M(){var e=function(){var e=c.useContext(p);if(!e)throw new Error("useCount hook must be used under HooksContextProvider");var t=Object(x.a)(e,2),o=t[0],n=t[1];return{state:o,addTodo:function(e){n(Object(r.a)(Object(r.a)({},o),{},{todos:[].concat(Object(i.a)(o.todos),[e])}))},toggleComplete:function(e){n(Object(r.a)(Object(r.a)({},o),{},{todos:Object(i.a)(o.todos.map((function(t){return t.id===e&&(t.completed=!t.completed),t})))}))},setTodos:function(e){n(Object(r.a)(Object(r.a)({},o),{},{todos:e,loading:!1}))},setLoading:function(e){n(Object(r.a)(Object(r.a)({},o),{},{loading:e}))}}}(),t=e.state,o=e.addTodo,n=e.setTodos,a=e.toggleComplete,s=t.todos,d=t.loading,l=Object(c.useState)([]),j=Object(x.a)(l,2),u=j[0],b=j[1],O=H(u),f=Object(x.a)(O,2),m=f[0],g=f[1],v=B(u);function C(e){a(e)}return Object(c.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/todos").then((function(e){return e.json()})).then((function(e){b(e)}))}),[]),Object(c.useEffect)((function(){n(v)}),[v]),d?Object(h.jsx)("div",{className:"container app-box ".concat(G.a.Contents),children:Object(h.jsx)(W,{})}):Object(h.jsxs)("div",{className:"container app-box ".concat(G.a.Contents),children:[Object(h.jsxs)("div",{className:"".concat(G.a.Column),children:[Object(h.jsx)("h2",{id:"hooks-style",children:"The \u201cHooks Style\u201d strategy"}),Object(h.jsx)("h3",{children:"State management via Hooks"}),Object(h.jsx)("p",{children:"State of this strategy can be abstracted (as current implementation) or scoped. A more scoped implementation would require more state fragmentation as it would not allow a multi-level state."}),Object(h.jsx)("p",{children:"All the methods and hooks in this case can also be defined in a single file, but could also be segmented, for exemple, separating hooks in other folder."}),Object(h.jsx)("p",{children:"This in implementation can be a little confusing compared to the others, but offers good flexibility."}),Object(h.jsx)("p",{children:'A hibrid implementation with the "Redux Style", using useReducer hook, could offer better architecture for this implementation.'})]}),Object(h.jsxs)("div",{className:"".concat(G.a.Column," ").concat(G.a.CodeSection),children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"State Implementation example:"}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"fas fa-code-branch"})," ",Object(h.jsx)("a",{href:"https://github.com/andrereitz/chooseyourcontext/blob/master/src/contexts/HooksContext.js",target:"_blank",children:"Check out on Github"})]})]}),Object(h.jsx)("ul",{children:s.length>0&&s.map((function(e,t){return Object(h.jsx)(U,{todo:e,clickAction:C},"cc-todo-".concat(t))}))}),Object(h.jsx)(K,{clickAction:function(){o(m),g()},children:"Add Random Todo"})]})]})}function z(){var e=Object(c.useContext)(g),t=e.state,o=t.todos,n=t.loading,a=e.actions,s=a.setTodos,i=a.toggleComplete,r=Object(c.useState)([]),d=Object(x.a)(r,2),l=d[0],j=d[1],u=H(l),b=Object(x.a)(u,2),O=b[0],f=b[1],p=B(l);function m(t,o){e.dispatch(i({id:t,completed:o}))}return Object(c.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/todos").then((function(e){return e.json()})).then((function(e){j(e)}))}),[]),Object(c.useEffect)((function(){e.dispatch(s(p))}),[p]),n?Object(h.jsx)("div",{className:"container app-box ".concat(G.a.Contents),children:Object(h.jsx)(W,{})}):Object(h.jsxs)("div",{className:"container app-box ".concat(G.a.Contents),children:[Object(h.jsxs)("div",{className:"".concat(G.a.Column),children:[Object(h.jsx)("h2",{id:"redux-style",children:"The \u201cReducer Style\u201d strategy"}),Object(h.jsx)("h3",{children:'Context API Exporting a "Redux Like" Reducer'}),Object(h.jsx)("p",{children:"State of the context is the reducer state defined in the context file."}),Object(h.jsx)("p",{children:"Similar to the previous strategy, related files to this context are defined in the same file. The provider and provider value are expoted from the same place aswell, but this time with a functional component."}),Object(h.jsx)("p",{children:"For the action creators you can export them from the file itself, or use it from the Provider value passed down. Both implementations were illustrated in this example"}),Object(h.jsx)("p",{children:"Although this implementation looks more complex, it gives a solid base for scalability and developers used to Flux/Redux style architecture will easily adapt to this strategy."})]}),Object(h.jsxs)("div",{className:"".concat(G.a.Column," ").concat(G.a.CodeSection),children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"State Implementation example:"}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{className:"fas fa-code-branch"})," ",Object(h.jsx)("a",{href:"https://github.com/andrereitz/chooseyourcontext/blob/master/src/contexts/ReduxContext.js",target:"_blank",children:"Check out on Github"})]})]}),Object(h.jsx)("ul",{children:o.length>0&&o.map((function(e,t){return Object(h.jsx)(U,{todo:e,clickAction:m},"cc-todo-".concat(t))}))}),Object(h.jsx)(K,{clickAction:function(){e.dispatch(S.addTodo(O)),f()},children:"Add Random Todo"})]})]})}var q=o(9),J=o.n(q);function U(e){var t=e.todo,o=e.clickAction;return Object(h.jsxs)("li",{className:"".concat(J.a.Default," ").concat(t.completed?J.a.Completed:""),children:[Object(h.jsx)("i",{className:t.completed?"far fa-check-circle":"far fa-circle",onClick:function(){return o(t.id,!t.completed)}}),Object(h.jsx)("p",{children:t.title})]})}var X=o(16),Y=o.n(X),K=function(e){var t=e.clickAction,o=e.children;return Object(h.jsx)("button",{className:Y.a.AddButton,onClick:function(){return t()},children:o})},Q=o(10),V=o.n(Q),W=function(e){var t=e.useContainer,o=void 0===t||t,n=e.loadingText,a=Object(h.jsx)("div",{className:V.a.Default,children:n});return Object(h.jsx)(c.Fragment,{children:o?Object(h.jsx)("div",{className:V.a.Container,children:a}):a})};var Z=function(){return Object(h.jsx)(O,{children:Object(h.jsx)(m,{children:Object(h.jsxs)(A,{children:[Object(h.jsx)(w,{}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)(R,{}),Object(h.jsx)(F,{}),Object(h.jsx)(z,{}),Object(h.jsx)(M,{})]})]})})})},$=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,27)).then((function(t){var o=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;o(e),c(e),n(e),a(e),s(e)}))};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(Z,{})}),document.getElementById("root")),$()}],[[26,1,2]]]);
//# sourceMappingURL=main.4aa604f8.chunk.js.map